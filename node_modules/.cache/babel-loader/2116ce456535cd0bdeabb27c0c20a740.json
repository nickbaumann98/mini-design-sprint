{"ast":null,"code":"var _jsxFileName = \"/Users/nickbaumann/Develop/mini-design-sprint/src/components/DaySprint.js\";\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport styled, { keyframes } from 'styled-components'; // Add keyframes here\nimport { getGPTResponse } from '../utils/gptService';\nimport { sprintGuidance } from '../utils/sprintResources';\nimport OutputSidebar from './OutputSidebar';\nimport FinalSummary from './FinalSummary';\nimport { FaPaperPlane } from 'react-icons/fa';\n\n// Styling for the container, conversation box, and input box\nconst SprintContainer = styled.div`\n  display: flex;\n  height: 100vh;\n  background-color: #121212;\n  color: #e0e0e0;\n`;\nconst ButtonGroup = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1rem;\n`;\nconst MainContent = styled.div`\n  flex: 1;\n  padding: 2rem;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n`;\nconst Header = styled.h1`\n  color: #3c8ce7;\n  font-size: 2.5rem;\n  margin-bottom: 20px;\n`;\nconst ConversationBox = styled.div`\n  flex-grow: 1;\n  overflow-y: auto;\n  border: 1px solid #3c8ce7;\n  padding: 10px;\n  background-color: #2a2a2a;\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n  height: 60vh;\n  min-height: 300px;\n`;\nconst Input = styled.textarea`\n  width: 100%;\n  padding: 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #3a3a3a;\n  color: #e0e0e0;\n  resize: none; /* Prevent resize by user */\n  overflow: hidden; /* Hide scroll bar */\n`;\nconst SendButton = styled.button`\n  background-color: #3c8ce7;\n  color: white;\n  border: none;\n  padding: 10px;\n  border-radius: 5px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 10px;\n`;\nconst InputBox = styled.div`\n  display: flex;\n  padding: 10px;\n  border-top: 1px solid #3c8ce7;\n  background-color: #2a2a2a;\n  align-items: center;\n`;\nconst Message = styled.div`\n  background-color: ${props => props.isUser ? '#3c8ce7' : '#3a3a3a'};\n  color: #e0e0e0;\n  padding: 10px;\n  border-radius: 15px;\n  margin-bottom: 10px;\n  max-width: 70%;\n  align-self: ${props => props.isUser ? 'flex-end' : 'flex-start'};\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  word-wrap: break-word; /* Ensure long words break */\n  ${props => !props.isUser && `\n    &::before {\n      content: 'Relay: ';\n      color: #3c8ce7;\n      font-weight: bold;\n    }\n  `}\n`;\nconst typing = keyframes`\n  0% { opacity: 0.3; }\n  50% { opacity: 1; }\n  100% { opacity: 0.3; }\n`;\nconst TypingIndicator = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  height: 30px;\n  margin-bottom: 20px;\n\n  span {\n    height: 10px;\n    width: 10px;\n    margin: 0 2px;\n    background-color: #3c8ce7;\n    border-radius: 50%;\n    display: inline-block;\n    animation: ${typing} 1s infinite;\n\n    &:nth-child(2) {\n      animation-delay: 0.2s;\n    }\n\n    &:nth-child(3) {\n      animation-delay: 0.4s;\n    }\n  }\n`;\nconst NextDayButton = styled.button`\n  background-color: #3c8ce7;\n  color: #ffffff;\n  border: none;\n  padding: 10px 20px;\n  font-size: 1rem;\n  cursor: pointer;\n  border-radius: 5px;\n  margin-top: 20px;\n  align-self: flex-start;\n`;\nconst CopyButton = styled.button`\n  background-color: #3c8ce7;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 5px;\n  cursor: pointer;\n  margin-bottom: 1rem;\n`;\nconst Timer = styled.div`\n  font-size: 2rem;\n  text-align: center;\n  margin: 1rem 0;\n`;\nconst CrazyEightContainer = styled.div`\n  margin-top: 1rem;\n  padding: 1rem;\n  background-color: #2a2a2a;\n  border-radius: 5px;\n`;\nconst CrazyEightInstructions = styled.p`\n  margin-bottom: 1rem;\n  color: #e0e0e0;\n`;\nconst CrazyEightInput = styled.input`\n  width: 100%;\n  padding: 0.5rem;\n  margin-bottom: 0.5rem;\n  border: 1px solid #3c8ce7;\n  border-radius: 5px;\n`;\nconst StoryboardContainer = styled.div`\n  margin-top: 1rem;\n  padding: 1rem;\n  background-color: #2a2a2a;\n  border-radius: 5px;\n`;\nconst StoryboardInstructions = styled.p`\n  margin-bottom: 1rem;\n  color: #e0e0e0;\n`;\nconst StoryboardSection = styled.textarea`\n  width: 100%;\n  height: 150px;\n  margin-top: 1rem;\n  padding: 0.5rem;\n  border-radius: 5px;\n`;\nconst PrototypeSection = styled.div`\n  margin-top: 1rem;\n  padding: 1rem;\n  background-color: #2a2a2a;\n  border-radius: 5px;\n`;\nconst InteractionSection = styled.div`\n  margin-top: 1rem;\n  padding: 1rem;\n  background-color: #2a2a2a;\n  border-radius: 5px;\n`;\nconst ToggleSidebarButton = styled.button`\n  position: fixed;\n  top: 10px;\n  right: ${props => props.isSidebarOpen ? '310px' : '10px'};\n  background-color: transparent;\n  color: #3c8ce7;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  z-index: 1000;\n`;\nconst SubmitButton = styled(SendButton)`\n  margin-top: 10px;\n  width: 100%;\n  justify-content: center;\n`;\nconst DaySprint = () => {\n  const [currentDay, setCurrentDay] = useState(1);\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [sprintData, setSprintData] = useState({});\n  const [isTyping, setIsTyping] = useState(false);\n  const [isReadyForNextDay, setIsReadyForNextDay] = useState(false);\n  const [timerSeconds, setTimerSeconds] = useState(480);\n  const [isTimerRunning, setIsTimerRunning] = useState(false);\n  const [crazyEightIdeas, setCrazyEightIdeas] = useState(Array(8).fill(''));\n  const [storyboardSections, setStoryboardSections] = useState(['', '', '']);\n  const [prototypeData, setPrototypeData] = useState({\n    coreElements: '',\n    structureFlow: '',\n    interactionsProcesses: ''\n  });\n  const [testingScenario, setTestingScenario] = useState('');\n  const [userInteraction, setUserInteraction] = useState('');\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n  const [isSprintComplete, setIsSprintComplete] = useState(false);\n  const conversationEndRef = useRef(null);\n  const scrollToBottom = useCallback(() => {\n    if (conversationEndRef.current) {\n      conversationEndRef.current.scrollIntoView({\n        behavior: \"smooth\"\n      });\n    }\n  }, []);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, scrollToBottom]);\n  const getCurrentPrompt = useCallback(() => sprintGuidance[currentDay].prompt, [currentDay]);\n  const moveToNextDay = useCallback(() => {\n    if (currentDay < 5) {\n      setCurrentDay(prev => {\n        const nextDay = prev + 1;\n        setIsReadyForNextDay(false);\n        // Reset day-specific states\n        if (prev === 2) {\n          setCrazyEightIdeas(Array(8).fill(''));\n        } else if (prev === 3) {\n          setStoryboardSections(['', '', '']);\n        }\n        setIsTimerRunning(false);\n        setTimerSeconds(480);\n        return nextDay;\n      });\n    } else {\n      setIsSprintComplete(true);\n    }\n  }, [currentDay]);\n  const formatRelayMessage = text => {\n    return text.replace(/Relay:/g, '<RelayName>Relay:</RelayName>').replace(/(\\d+\\.)/g, '<IndentedList>$1</IndentedList>');\n  };\n  const checkDayCompletion = useCallback(() => {\n    var _sprintData$, _sprintData$2, _sprintData$3, _sprintData$4, _sprintData$5, _sprintData$6, _sprintData$7, _sprintData$8, _sprintData$9, _sprintData$10, _sprintData$11, _sprintData$12;\n    let isComplete = false;\n    switch (currentDay) {\n      case 1:\n        isComplete = ((_sprintData$ = sprintData[1]) === null || _sprintData$ === void 0 ? void 0 : _sprintData$.Problem) && ((_sprintData$2 = sprintData[1]) === null || _sprintData$2 === void 0 ? void 0 : _sprintData$2[\"Long-term Goal\"]) && ((_sprintData$3 = sprintData[1]) === null || _sprintData$3 === void 0 ? void 0 : _sprintData$3[\"Critical Questions\"]);\n        break;\n      case 2:\n        isComplete = ((_sprintData$4 = sprintData[2]) === null || _sprintData$4 === void 0 ? void 0 : _sprintData$4[\"Crazy 8s\"]) && ((_sprintData$5 = sprintData[2]) === null || _sprintData$5 === void 0 ? void 0 : _sprintData$5[\"Crazy 8s\"].length) === 8;\n        break;\n      case 3:\n        isComplete = ((_sprintData$6 = sprintData[3]) === null || _sprintData$6 === void 0 ? void 0 : _sprintData$6[\"Solution Sketch\"]) && ((_sprintData$7 = sprintData[3]) === null || _sprintData$7 === void 0 ? void 0 : _sprintData$7[\"Solution Sketch\"].length) === 3;\n        break;\n      case 4:\n        isComplete = ((_sprintData$8 = sprintData[4]) === null || _sprintData$8 === void 0 ? void 0 : _sprintData$8.coreElements) && ((_sprintData$9 = sprintData[4]) === null || _sprintData$9 === void 0 ? void 0 : _sprintData$9.structureFlow) && ((_sprintData$10 = sprintData[4]) === null || _sprintData$10 === void 0 ? void 0 : _sprintData$10.interactionsProcesses);\n        break;\n      case 5:\n        isComplete = ((_sprintData$11 = sprintData[5]) === null || _sprintData$11 === void 0 ? void 0 : _sprintData$11[\"Who Will Test\"]) && ((_sprintData$12 = sprintData[5]) === null || _sprintData$12 === void 0 ? void 0 : _sprintData$12[\"How They Will Test\"]);\n        break;\n      default:\n        isComplete = false;\n    }\n    setIsReadyForNextDay(isComplete);\n  }, [currentDay, sprintData]);\n  useEffect(() => {\n    let interval;\n    if (isTimerRunning && timerSeconds > 0) {\n      interval = setInterval(() => {\n        setTimerSeconds(seconds => seconds - 1);\n      }, 1000);\n    } else if (timerSeconds === 0) {\n      setIsTimerRunning(false);\n    }\n    return () => clearInterval(interval);\n  }, [isTimerRunning, timerSeconds]);\n  const getInitialPrompt = useCallback(() => {\n    switch (currentDay) {\n      case 1:\n        return `Welcome to our AI-powered Mini Design Sprint! I'm Relay, your guide through this condensed version of Jake Knapp and John Zeratsky's methodology. Over the next five short sessions, we'll rapidly innovate and prototype your idea. You can ask me questions at any time during the sprint.\n\n    Let's begin Day 1 by addressing three key points:\n    1. What problem are you trying to solve?\n    2. What's your long-term goal for this project?\n    3. What are the critical questions we need to answer?\n\n    First, tell me about the problem you're addressing. What challenges are you facing?`;\n      case 2:\n        return `Welcome to Day 2! Today, we'll generate ideas using the Crazy 8s method. Are you ready to start the timer and brainstorm 8 ideas in 8 minutes?`;\n      case 3:\n        return `It's Day 3! Let's create a three-panel storyboard for your chosen solution. Start by describing the problem or starting point in the first panel.`;\n      case 4:\n        return `Welcome to Day 4. Today, we'll design a conceptual prototype. Begin by describing the core elements of your solution.`;\n      case 5:\n        return `It's the final day! We'll conduct simulated user testing. Start by describing a testing scenario for your prototype.`;\n      default:\n        return `Welcome to Day ${currentDay} of the Design Sprint.`;\n    }\n  }, [currentDay]);\n  useEffect(() => {\n    console.log(\"Sprint Data: \", sprintData); // Debugging line to verify structure\n  }, [sprintData]);\n  useEffect(() => {\n    const loadInitialPrompt = async () => {\n      setIsTyping(true);\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      setIsTyping(false);\n      const initialPrompt = getInitialPrompt();\n      setMessages([{\n        isUser: false,\n        text: initialPrompt\n      }]);\n    };\n    loadInitialPrompt();\n  }, [currentDay, getInitialPrompt]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    const userMessage = {\n      isUser: true,\n      text: input\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInput('');\n    setIsTyping(true);\n    try {\n      await updateSprintData(input);\n      const context = messages.map(m => `${m.isUser ? 'User' : 'Relay'}: ${m.text}`).join('\\n');\n      const prompt = `Day ${currentDay} of Design Sprint. Context: ${context}\\nUser: ${input}\\n${getCurrentPrompt()}`;\n      const response = await getGPTResponse(prompt, currentDay, sprintGuidance[currentDay].objectives);\n      const aiMessage = {\n        isUser: false,\n        text: response\n      };\n      setMessages(prev => [...prev, aiMessage]);\n      if (response.toLowerCase().includes(\"move to the next day\")) {\n        setIsReadyForNextDay(true);\n      }\n    } catch (error) {\n      console.error('Error in handleSubmit:', error);\n      setMessages(prev => [...prev, {\n        isUser: false,\n        text: \"I'm having trouble right now. Please try again.\"\n      }]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      handleSubmit(e);\n    }\n  };\n  const summarizeInput = async input => {\n    if (!input || !input.trim()) return \"Not yet defined\";\n    const prompt = `Summarize the following in one concise sentence, maintaining key points: \"${input}\"`;\n    try {\n      const summary = await getGPTResponse(prompt, currentDay, sprintGuidance[currentDay].objectives || []);\n      return summary.trim() || input.trim();\n    } catch (error) {\n      console.error('Error summarizing input:', error);\n      return input.trim();\n    }\n  };\n  const summarizeCrazy8s = async ideas => {\n    if (ideas.length === 0) return [\"Not yet defined\"];\n    const prompt = `Here are 8 ideas from a Crazy 8s exercise:\\n${ideas.join('\\n')}\\nPlease select and summarize the 3 most intriguing ideas in one sentence each.`;\n    try {\n      const summary = await getGPTResponse(prompt, currentDay, sprintGuidance[currentDay].objectives || []);\n      const summaries = summary.split('\\n').filter(s => s.trim());\n      return summaries.length > 0 ? summaries : ideas.slice(0, 3);\n    } catch (error) {\n      console.error('Error summarizing Crazy 8s:', error);\n      return ideas.slice(0, 3);\n    }\n  };\n  const updateSprintData = async input => {\n    const updatedData = {\n      ...sprintData\n    };\n    if (!updatedData[currentDay]) {\n      updatedData[currentDay] = {};\n    }\n    console.log(`Updating data for Day ${currentDay} with input:`, input); // Log the input\n\n    switch (currentDay) {\n      case 1:\n        if (!updatedData[1].Problem) {\n          const summary = await summarizeInput(input);\n          console.log(\"Summarized Problem:\", summary); // Log the summary\n          updatedData[1].Problem = summary;\n        } else if (!updatedData[1][\"Long-term Goal\"]) {\n          const summary = await summarizeInput(input);\n          console.log(\"Summarized Long-term Goal:\", summary); // Log the summary\n          updatedData[1][\"Long-term Goal\"] = summary;\n        } else if (!updatedData[1][\"Critical Questions\"]) {\n          const questions = input.split(/\\d+\\./).filter(q => q.trim()).map(q => q.trim());\n          const summarizedQuestions = await Promise.all(questions.map(summarizeInput));\n          console.log(\"Summarized Critical Questions:\", summarizedQuestions); // Log the summaries\n          updatedData[1][\"Critical Questions\"] = summarizedQuestions;\n        }\n        break;\n      case 2:\n        if (crazyEightIdeas.every(idea => idea.trim() !== '')) {\n          const summarizedIdeas = await summarizeCrazy8s(crazyEightIdeas);\n          console.log(\"Summarized Crazy 8s Ideas:\", summarizedIdeas); // Log the summaries\n          updatedData[2] = {\n            \"Crazy 8s\": summarizedIdeas\n          };\n        }\n        break;\n      case 3:\n        if (storyboardSections.every(section => section.trim() !== '')) {\n          const summarizedSections = await Promise.all(storyboardSections.map(summarizeInput));\n          console.log(\"Summarized Solution Sketch:\", summarizedSections); // Log the summaries\n          updatedData[3] = {\n            \"Solution Sketch\": summarizedSections\n          };\n        }\n        break;\n      case 4:\n        if (Object.values(prototypeData).every(value => value.trim() !== '')) {\n          const summarizedPrototypeData = await Promise.all(Object.entries(prototypeData).map(async ([key, value]) => [key, await summarizeInput(value)]));\n          console.log(\"Summarized Prototype Data:\", summarizedPrototypeData); // Log the summaries\n          updatedData[4] = {\n            ...Object.fromEntries(summarizedPrototypeData)\n          };\n        }\n        break;\n      case 5:\n        if (testingScenario.trim() !== '') {\n          const summary = await summarizeInput(testingScenario);\n          console.log(\"Summarized Who Will Test:\", summary); // Log the summary\n          updatedData[5][\"Who Will Test\"] = summary;\n        }\n        if (userInteraction.trim() !== '') {\n          const summary = await summarizeInput(userInteraction);\n          console.log(\"Summarized How They Will Test:\", summary); // Log the summary\n          updatedData[5][\"How They Will Test\"] = summary;\n        }\n        break;\n      default:\n        break;\n    }\n    setSprintData(updatedData);\n    console.log(\"Updated Sprint Data:\", updatedData); // Log the updated state\n    checkDayCompletion();\n  };\n  const submitCrazyEight = async () => {\n    if (crazyEightIdeas.every(idea => idea.trim() !== '')) {\n      setIsTyping(true);\n      try {\n        const summarizedIdeas = await Promise.all(crazyEightIdeas.map(async idea => {\n          return await summarizeInput(idea);\n        }));\n        setSprintData(prev => ({\n          ...prev,\n          2: {\n            \"Crazy 8s\": summarizedIdeas\n          }\n        }));\n        const responseMessage = \"Great job completing your Crazy 8s! I've summarized your ideas for the sprint progress. Would you like to move on to the next day?\";\n        setMessages(prev => [...prev, {\n          isUser: false,\n          text: responseMessage\n        }]);\n        setIsReadyForNextDay(true);\n      } catch (error) {\n        console.error('Error processing Crazy 8 ideas:', error);\n        setMessages(prev => [...prev, {\n          isUser: false,\n          text: \"I'm having trouble processing your Crazy 8 ideas. Please try submitting again.\"\n        }]);\n      } finally {\n        setIsTyping(false);\n      }\n    } else {\n      alert(\"Please complete all 8 ideas before submitting.\");\n    }\n  };\n  const updateCrazyEightIdea = (index, value) => {\n    const newIdeas = [...crazyEightIdeas];\n    newIdeas[index] = value;\n    setCrazyEightIdeas(newIdeas);\n  };\n  const updateStoryboardSection = (index, value) => {\n    const newSections = [...storyboardSections];\n    newSections[index] = value;\n    setStoryboardSections(newSections);\n    checkDayCompletion();\n  };\n  const updatePrototypeData = (key, value) => {\n    setPrototypeData(prev => ({\n      ...prev,\n      [key]: value\n    }));\n    checkDayCompletion();\n  };\n  const startTimer = () => {\n    setIsTimerRunning(true);\n    setTimerSeconds(480);\n  };\n  const submitSolutionSketch = async () => {\n    if (storyboardSections.every(section => section.trim() !== '')) {\n      setIsTyping(true);\n      const sketchString = storyboardSections.map((section, index) => `Panel ${index + 1}: ${section}`).join('\\n');\n      const prompt = `The user has completed their solution sketch with the following three panels:\\n${sketchString}\\nPlease provide a brief analysis and feedback on this solution sketch, highlighting strengths and areas for improvement.`;\n      try {\n        const response = await getGPTResponse(prompt, currentDay, sprintGuidance[currentDay].objectives);\n        setMessages(prev => [...prev, {\n          isUser: false,\n          text: response\n        }]);\n        const summarizedSections = await Promise.all(storyboardSections.map(summarizeInput));\n        setSprintData(prev => ({\n          ...prev,\n          3: {\n            \"Solution Sketch\": summarizedSections\n          }\n        }));\n        setIsReadyForNextDay(true);\n      } catch (error) {\n        console.error('Error in submitSolutionSketch:', error);\n        setMessages(prev => [...prev, {\n          isUser: false,\n          text: \"I'm having trouble providing feedback on your solution sketch. Please try submitting again.\"\n        }]);\n      } finally {\n        setIsTyping(false);\n      }\n    } else {\n      alert(\"Please complete all three panels of the solution sketch before submitting.\");\n    }\n  };\n  const submitPrototype = async () => {\n    if (Object.values(prototypeData).every(value => value.trim() !== '')) {\n      setIsTyping(true);\n      const prototypeString = Object.entries(prototypeData).map(([key, value]) => `${key}: ${value}`).join('\\n');\n      const prompt = `The user has completed their prototype design with the following details:\\n${prototypeString}\\nPlease provide a brief analysis and feedback on this prototype, highlighting strengths and suggesting potential improvements.`;\n      try {\n        const response = await getGPTResponse(prompt);\n        setMessages(prev => [...prev, {\n          isUser: false,\n          text: response\n        }]);\n        setSprintData(prev => ({\n          ...prev,\n          4: {\n            ...prototypeData,\n            \"Feedback\": response\n          }\n        }));\n        setIsReadyForNextDay(true);\n      } catch (error) {\n        setMessages(prev => [...prev, {\n          isUser: false,\n          text: \"I'm having trouble providing feedback on your prototype. Please try submitting again.\"\n        }]);\n      } finally {\n        setIsTyping(false);\n      }\n    } else {\n      alert(\"Please complete all sections of the prototype design before submitting.\");\n    }\n  };\n  const suggestTestingPlan = async () => {\n    setIsTyping(true);\n    const prompt = `Based on the prototype described: ${JSON.stringify(prototypeData)}, suggest a user testing plan. Include who should test the prototype (target users) and how they should test it (specific tasks and questions).`;\n    try {\n      const response = await getGPTResponse(prompt);\n      const [who, how] = response.split('\\n\\n');\n      setTestingScenario(who);\n      setUserInteraction(how);\n      setMessages(prev => [...prev, {\n        isUser: false,\n        text: `Here's a suggested user testing plan:\\n\\n${response}\\n\\nFeel free to modify this plan as needed.`\n      }]);\n    } catch (error) {\n      setMessages(prev => [...prev, {\n        isUser: false,\n        text: \"I'm having trouble suggesting a testing plan. Please try creating one yourself.\"\n      }]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n  const submitTestingPlan = async () => {\n    if (testingScenario.trim() !== '' && userInteraction.trim() !== '') {\n      setIsTyping(true);\n      const testingPlan = `Who will test: ${testingScenario}\\n\\nHow they will test: ${userInteraction}`;\n      const prompt = `The user has completed their user testing plan with the following details:\\n${testingPlan}\\nPlease provide a brief summary of the testing plan and suggest any improvements or considerations for conducting the actual user tests.`;\n      try {\n        const response = await getGPTResponse(prompt);\n        setMessages(prev => [...prev, {\n          isUser: false,\n          text: response\n        }]);\n        setSprintData(prev => ({\n          ...prev,\n          5: {\n            \"Who Will Test\": testingScenario,\n            \"How They Will Test\": userInteraction,\n            \"Feedback\": response\n          }\n        }));\n        setIsReadyForNextDay(true);\n      } catch (error) {\n        setMessages(prev => [...prev, {\n          isUser: false,\n          text: \"I'm having trouble providing feedback on your testing plan. Please try submitting again.\"\n        }]);\n      } finally {\n        setIsTyping(false);\n      }\n    } else {\n      alert(\"Please complete both 'Who will test' and 'How they will test' sections before submitting.\");\n    }\n  };\n  return /*#__PURE__*/React.createElement(SprintContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 662,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MainContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 663,\n      columnNumber: 13\n    }\n  }, !isSprintComplete ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 666,\n      columnNumber: 25\n    }\n  }, `Day ${currentDay}: ${sprintGuidance[currentDay].goal}`), /*#__PURE__*/React.createElement(ConversationBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 25\n    }\n  }, messages.map((message, index) => /*#__PURE__*/React.createElement(Message, {\n    key: index,\n    isUser: message.isUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 669,\n      columnNumber: 33\n    }\n  }, message.isUser ? message.text : /*#__PURE__*/React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: formatRelayMessage(message.text)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 670,\n      columnNumber: 70\n    }\n  }))), isTyping && /*#__PURE__*/React.createElement(TypingIndicator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 673,\n      columnNumber: 42\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 673,\n      columnNumber: 59\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 673,\n      columnNumber: 72\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 673,\n      columnNumber: 85\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    ref: conversationEndRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 674,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(InputBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 676,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    value: input,\n    onChange: e => setInput(e.target.value),\n    onKeyDown: handleKeyDown,\n    placeholder: \"Type your message here...\",\n    rows: 1,\n    onInput: e => {\n      e.target.style.height = 'auto';\n      e.target.style.height = `${e.target.scrollHeight}px`;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 677,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(SendButton, {\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 688,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FaPaperPlane, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 689,\n      columnNumber: 33\n    }\n  }))), currentDay === 2 && /*#__PURE__*/React.createElement(CrazyEightContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 695,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(CrazyEightInstructions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 696,\n      columnNumber: 33\n    }\n  }, \"Crazy 8s is a fast sketching exercise where you'll create 8 distinct ideas in 8 minutes. The goal is to push beyond your first idea and generate a wide range of possibilities. Don't worry about quality or feasibility at this stage - focus on quantity and variety!\"), !isTimerRunning && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: startTimer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 701,\n      columnNumber: 53\n    }\n  }, \"Start 8-Minute Timer\"), isTimerRunning && /*#__PURE__*/React.createElement(Timer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 702,\n      columnNumber: 52\n    }\n  }, Math.floor(timerSeconds / 60), \":\", (timerSeconds % 60).toString().padStart(2, '0')), crazyEightIdeas.map((idea, index) => /*#__PURE__*/React.createElement(CrazyEightInput, {\n    key: index,\n    value: idea,\n    onChange: e => updateCrazyEightIdea(index, e.target.value),\n    placeholder: `Crazy 8s Idea ${index + 1}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 704,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(SubmitButton, {\n    onClick: submitCrazyEight,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 711,\n      columnNumber: 33\n    }\n  }, \"Submit Crazy 8s Ideas for Feedback\")), currentDay === 3 && /*#__PURE__*/React.createElement(StoryboardContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 718,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(StoryboardInstructions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 33\n    }\n  }, \"Create a three-panel storyboard that outlines your chosen solution. Each panel should represent a key step or moment in your solution: 1. The problem or starting point 2. The main action or change 3. The result or outcome Describe each panel in detail, focusing on what the user sees and does.\"), storyboardSections.map((section, index) => /*#__PURE__*/React.createElement(StoryboardSection, {\n    key: index,\n    value: section,\n    onChange: e => updateStoryboardSection(index, e.target.value),\n    placeholder: `Panel ${index + 1}: ${index === 0 ? \"Describe the problem or starting point\" : index === 1 ? \"Detail the main action or change\" : \"Illustrate the result or outcome\"}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 727,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(SubmitButton, {\n    onClick: submitSolutionSketch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 734,\n      columnNumber: 33\n    }\n  }, \"Submit Solution Sketch for Feedback\")), currentDay === 4 && /*#__PURE__*/React.createElement(PrototypeSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 741,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 742,\n      columnNumber: 33\n    }\n  }, \"Design Your Conceptual Prototype\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 743,\n      columnNumber: 33\n    }\n  }, \"Create a detailed description of your prototype, focusing on core elements, structure, and key interactions.\"), /*#__PURE__*/React.createElement(StoryboardSection, {\n    value: prototypeData.coreElements,\n    onChange: e => updatePrototypeData('coreElements', e.target.value),\n    placeholder: \"Describe core elements...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 744,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(StoryboardSection, {\n    value: prototypeData.structureFlow,\n    onChange: e => updatePrototypeData('structureFlow', e.target.value),\n    placeholder: \"Outline structure or flow...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 749,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(StoryboardSection, {\n    value: prototypeData.interactionsProcesses,\n    onChange: e => updatePrototypeData('interactionsProcesses', e.target.value),\n    placeholder: \"Detail interactions or processes...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 754,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(SubmitButton, {\n    onClick: submitPrototype,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 759,\n      columnNumber: 33\n    }\n  }, \"Submit Prototype for Feedback\")), currentDay === 5 && /*#__PURE__*/React.createElement(InteractionSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 766,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 767,\n      columnNumber: 33\n    }\n  }, \"User Testing Plan\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 768,\n      columnNumber: 33\n    }\n  }, \"Create a plan for testing your prototype with real users. Define who will test and how they will test.\"), /*#__PURE__*/React.createElement(StoryboardSection, {\n    value: testingScenario,\n    onChange: e => setTestingScenario(e.target.value),\n    placeholder: \"Describe who your test users will be (e.g., demographics, experience level)...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 769,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(StoryboardSection, {\n    value: userInteraction,\n    onChange: e => setUserInteraction(e.target.value),\n    placeholder: \"Outline how users will test your prototype (e.g., specific tasks, questions to ask)...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 774,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(ButtonGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 779,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(CopyButton, {\n    onClick: suggestTestingPlan,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 780,\n      columnNumber: 37\n    }\n  }, \"Suggest Testing Plan\")), /*#__PURE__*/React.createElement(SubmitButton, {\n    onClick: submitTestingPlan,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 782,\n      columnNumber: 33\n    }\n  }, \"Submit Testing Plan\")), isReadyForNextDay && currentDay < 5 && /*#__PURE__*/React.createElement(NextDayButton, {\n    onClick: moveToNextDay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 789,\n      columnNumber: 29\n    }\n  }, \"Move to Day \", currentDay + 1), isReadyForNextDay && currentDay === 5 && /*#__PURE__*/React.createElement(NextDayButton, {\n    onClick: () => setIsSprintComplete(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 795,\n      columnNumber: 29\n    }\n  }, \"Finish Sprint and Review Summary\")) : /*#__PURE__*/React.createElement(FinalSummary, {\n    sprintData: sprintData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 801,\n      columnNumber: 21\n    }\n  })), isSidebarOpen && /*#__PURE__*/React.createElement(OutputSidebar, {\n    sprintData: sprintData,\n    currentDay: currentDay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 805,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ToggleSidebarButton, {\n    onClick: () => setIsSidebarOpen(!isSidebarOpen),\n    isSidebarOpen: isSidebarOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 810,\n      columnNumber: 13\n    }\n  }, isSidebarOpen ? '×' : '☰'));\n};\nexport default DaySprint;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","styled","keyframes","getGPTResponse","sprintGuidance","OutputSidebar","FinalSummary","FaPaperPlane","SprintContainer","div","ButtonGroup","MainContent","Header","h1","ConversationBox","Input","textarea","SendButton","button","InputBox","Message","props","isUser","typing","TypingIndicator","NextDayButton","CopyButton","Timer","CrazyEightContainer","CrazyEightInstructions","p","CrazyEightInput","input","StoryboardContainer","StoryboardInstructions","StoryboardSection","PrototypeSection","InteractionSection","ToggleSidebarButton","isSidebarOpen","SubmitButton","DaySprint","currentDay","setCurrentDay","messages","setMessages","setInput","sprintData","setSprintData","isTyping","setIsTyping","isReadyForNextDay","setIsReadyForNextDay","timerSeconds","setTimerSeconds","isTimerRunning","setIsTimerRunning","crazyEightIdeas","setCrazyEightIdeas","Array","fill","storyboardSections","setStoryboardSections","prototypeData","setPrototypeData","coreElements","structureFlow","interactionsProcesses","testingScenario","setTestingScenario","userInteraction","setUserInteraction","setIsSidebarOpen","isSprintComplete","setIsSprintComplete","conversationEndRef","scrollToBottom","current","scrollIntoView","behavior","getCurrentPrompt","prompt","moveToNextDay","prev","nextDay","formatRelayMessage","text","replace","checkDayCompletion","_sprintData$","_sprintData$2","_sprintData$3","_sprintData$4","_sprintData$5","_sprintData$6","_sprintData$7","_sprintData$8","_sprintData$9","_sprintData$10","_sprintData$11","_sprintData$12","isComplete","Problem","length","interval","setInterval","seconds","clearInterval","getInitialPrompt","console","log","loadInitialPrompt","Promise","resolve","setTimeout","initialPrompt","handleSubmit","e","preventDefault","trim","userMessage","updateSprintData","context","map","m","join","response","objectives","aiMessage","toLowerCase","includes","error","handleKeyDown","key","shiftKey","summarizeInput","summary","summarizeCrazy8s","ideas","summaries","split","filter","s","slice","updatedData","questions","q","summarizedQuestions","all","every","idea","summarizedIdeas","section","summarizedSections","Object","values","value","summarizedPrototypeData","entries","fromEntries","submitCrazyEight","responseMessage","alert","updateCrazyEightIdea","index","newIdeas","updateStoryboardSection","newSections","updatePrototypeData","startTimer","submitSolutionSketch","sketchString","submitPrototype","prototypeString","suggestTestingPlan","JSON","stringify","who","how","submitTestingPlan","testingPlan","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","goal","message","dangerouslySetInnerHTML","__html","ref","onChange","target","onKeyDown","placeholder","rows","onInput","style","height","scrollHeight","onClick","Math","floor","toString","padStart"],"sources":["/Users/nickbaumann/Develop/mini-design-sprint/src/components/DaySprint.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport styled, { keyframes } from 'styled-components';  // Add keyframes here\nimport { getGPTResponse } from '../utils/gptService';\nimport { sprintGuidance } from '../utils/sprintResources';\nimport OutputSidebar from './OutputSidebar';\nimport FinalSummary from './FinalSummary';\nimport { FaPaperPlane } from 'react-icons/fa';\n\n// Styling for the container, conversation box, and input box\nconst SprintContainer = styled.div`\n  display: flex;\n  height: 100vh;\n  background-color: #121212;\n  color: #e0e0e0;\n`;\n\nconst ButtonGroup = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-top: 1rem;\n`;\n\nconst MainContent = styled.div`\n  flex: 1;\n  padding: 2rem;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Header = styled.h1`\n  color: #3c8ce7;\n  font-size: 2.5rem;\n  margin-bottom: 20px;\n`;\n\nconst ConversationBox = styled.div`\n  flex-grow: 1;\n  overflow-y: auto;\n  border: 1px solid #3c8ce7;\n  padding: 10px;\n  background-color: #2a2a2a;\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n  height: 60vh;\n  min-height: 300px;\n`;\n\n\nconst Input = styled.textarea`\n  width: 100%;\n  padding: 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #3a3a3a;\n  color: #e0e0e0;\n  resize: none; /* Prevent resize by user */\n  overflow: hidden; /* Hide scroll bar */\n`;\n\nconst SendButton = styled.button`\n  background-color: #3c8ce7;\n  color: white;\n  border: none;\n  padding: 10px;\n  border-radius: 5px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 10px;\n`;\n\nconst InputBox = styled.div`\n  display: flex;\n  padding: 10px;\n  border-top: 1px solid #3c8ce7;\n  background-color: #2a2a2a;\n  align-items: center;\n`;\n\nconst Message = styled.div`\n  background-color: ${props => props.isUser ? '#3c8ce7' : '#3a3a3a'};\n  color: #e0e0e0;\n  padding: 10px;\n  border-radius: 15px;\n  margin-bottom: 10px;\n  max-width: 70%;\n  align-self: ${props => props.isUser ? 'flex-end' : 'flex-start'};\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  word-wrap: break-word; /* Ensure long words break */\n  ${props => !props.isUser && `\n    &::before {\n      content: 'Relay: ';\n      color: #3c8ce7;\n      font-weight: bold;\n    }\n  `}\n`;\n\n\nconst typing = keyframes`\n  0% { opacity: 0.3; }\n  50% { opacity: 1; }\n  100% { opacity: 0.3; }\n`;\n\nconst TypingIndicator = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  height: 30px;\n  margin-bottom: 20px;\n\n  span {\n    height: 10px;\n    width: 10px;\n    margin: 0 2px;\n    background-color: #3c8ce7;\n    border-radius: 50%;\n    display: inline-block;\n    animation: ${typing} 1s infinite;\n\n    &:nth-child(2) {\n      animation-delay: 0.2s;\n    }\n\n    &:nth-child(3) {\n      animation-delay: 0.4s;\n    }\n  }\n`;\n\nconst NextDayButton = styled.button`\n  background-color: #3c8ce7;\n  color: #ffffff;\n  border: none;\n  padding: 10px 20px;\n  font-size: 1rem;\n  cursor: pointer;\n  border-radius: 5px;\n  margin-top: 20px;\n  align-self: flex-start;\n`;\n\nconst CopyButton = styled.button`\n  background-color: #3c8ce7;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 5px;\n  cursor: pointer;\n  margin-bottom: 1rem;\n`;\n\nconst Timer = styled.div`\n  font-size: 2rem;\n  text-align: center;\n  margin: 1rem 0;\n`;\n\nconst CrazyEightContainer = styled.div`\n  margin-top: 1rem;\n  padding: 1rem;\n  background-color: #2a2a2a;\n  border-radius: 5px;\n`;\n\nconst CrazyEightInstructions = styled.p`\n  margin-bottom: 1rem;\n  color: #e0e0e0;\n`;\n\nconst CrazyEightInput = styled.input`\n  width: 100%;\n  padding: 0.5rem;\n  margin-bottom: 0.5rem;\n  border: 1px solid #3c8ce7;\n  border-radius: 5px;\n`;\n\nconst StoryboardContainer = styled.div`\n  margin-top: 1rem;\n  padding: 1rem;\n  background-color: #2a2a2a;\n  border-radius: 5px;\n`;\n\nconst StoryboardInstructions = styled.p`\n  margin-bottom: 1rem;\n  color: #e0e0e0;\n`;\n\nconst StoryboardSection = styled.textarea`\n  width: 100%;\n  height: 150px;\n  margin-top: 1rem;\n  padding: 0.5rem;\n  border-radius: 5px;\n`;\n\nconst PrototypeSection = styled.div`\n  margin-top: 1rem;\n  padding: 1rem;\n  background-color: #2a2a2a;\n  border-radius: 5px;\n`;\n\nconst InteractionSection = styled.div`\n  margin-top: 1rem;\n  padding: 1rem;\n  background-color: #2a2a2a;\n  border-radius: 5px;\n`;\n\nconst ToggleSidebarButton = styled.button`\n  position: fixed;\n  top: 10px;\n  right: ${props => props.isSidebarOpen ? '310px' : '10px'};\n  background-color: transparent;\n  color: #3c8ce7;\n  border: none;\n  font-size: 1.5rem;\n  cursor: pointer;\n  z-index: 1000;\n`;\n\nconst SubmitButton = styled(SendButton)`\n  margin-top: 10px;\n  width: 100%;\n  justify-content: center;\n`;\n\nconst DaySprint = () => {\n    const [currentDay, setCurrentDay] = useState(1);\n    const [messages, setMessages] = useState([]);\n    const [input, setInput] = useState('');\n    const [sprintData, setSprintData] = useState({});\n    const [isTyping, setIsTyping] = useState(false);\n    const [isReadyForNextDay, setIsReadyForNextDay] = useState(false);\n    const [timerSeconds, setTimerSeconds] = useState(480);\n    const [isTimerRunning, setIsTimerRunning] = useState(false);\n    const [crazyEightIdeas, setCrazyEightIdeas] = useState(Array(8).fill(''));\n    const [storyboardSections, setStoryboardSections] = useState(['', '', '']);\n    const [prototypeData, setPrototypeData] = useState({ coreElements: '', structureFlow: '', interactionsProcesses: '' });\n    const [testingScenario, setTestingScenario] = useState('');\n    const [userInteraction, setUserInteraction] = useState('');\n    const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n    const [isSprintComplete, setIsSprintComplete] = useState(false);\n\n    const conversationEndRef = useRef(null);\n\n    const scrollToBottom = useCallback(() => {\n        if (conversationEndRef.current) {\n            conversationEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n        }\n    }, []);\n\n    useEffect(() => {\n        scrollToBottom();\n    }, [messages, scrollToBottom]);\n\n    const getCurrentPrompt = useCallback(() => sprintGuidance[currentDay].prompt, [currentDay]);\n\n    const moveToNextDay = useCallback(() => {\n        if (currentDay < 5) {\n            setCurrentDay(prev => {\n                const nextDay = prev + 1;\n                setIsReadyForNextDay(false);\n                // Reset day-specific states\n                if (prev === 2) {\n                    setCrazyEightIdeas(Array(8).fill(''));\n                } else if (prev === 3) {\n                    setStoryboardSections(['', '', '']);\n                }\n                setIsTimerRunning(false);\n                setTimerSeconds(480);\n                return nextDay;\n            });\n        } else {\n            setIsSprintComplete(true);\n        }\n    }, [currentDay]);\n\n    const formatRelayMessage = (text) => {\n        return text.replace(/Relay:/g, '<RelayName>Relay:</RelayName>')\n            .replace(/(\\d+\\.)/g, '<IndentedList>$1</IndentedList>');\n    };\n\n\n    const checkDayCompletion = useCallback(() => {\n        let isComplete = false;\n\n        switch (currentDay) {\n            case 1:\n                isComplete = sprintData[1]?.Problem && sprintData[1]?.[\"Long-term Goal\"] && sprintData[1]?.[\"Critical Questions\"];\n                break;\n            case 2:\n                isComplete = sprintData[2]?.[\"Crazy 8s\"] && sprintData[2]?.[\"Crazy 8s\"].length === 8;\n                break;\n            case 3:\n                isComplete = sprintData[3]?.[\"Solution Sketch\"] && sprintData[3]?.[\"Solution Sketch\"].length === 3;\n                break;\n            case 4:\n                isComplete = sprintData[4]?.coreElements && sprintData[4]?.structureFlow && sprintData[4]?.interactionsProcesses;\n                break;\n            case 5:\n                isComplete = sprintData[5]?.[\"Who Will Test\"] && sprintData[5]?.[\"How They Will Test\"];\n                break;\n            default:\n                isComplete = false;\n        }\n\n        setIsReadyForNextDay(isComplete);\n    }, [currentDay, sprintData]);\n    useEffect(() => {\n        let interval;\n        if (isTimerRunning && timerSeconds > 0) {\n            interval = setInterval(() => {\n                setTimerSeconds(seconds => seconds - 1);\n            }, 1000);\n        } else if (timerSeconds === 0) {\n            setIsTimerRunning(false);\n        }\n        return () => clearInterval(interval);\n    }, [isTimerRunning, timerSeconds]);\n\n    const getInitialPrompt = useCallback(() => {\n        switch (currentDay) {\n            case 1:\n                return `Welcome to our AI-powered Mini Design Sprint! I'm Relay, your guide through this condensed version of Jake Knapp and John Zeratsky's methodology. Over the next five short sessions, we'll rapidly innovate and prototype your idea. You can ask me questions at any time during the sprint.\n\n    Let's begin Day 1 by addressing three key points:\n    1. What problem are you trying to solve?\n    2. What's your long-term goal for this project?\n    3. What are the critical questions we need to answer?\n\n    First, tell me about the problem you're addressing. What challenges are you facing?`;\n            case 2:\n                return `Welcome to Day 2! Today, we'll generate ideas using the Crazy 8s method. Are you ready to start the timer and brainstorm 8 ideas in 8 minutes?`;\n            case 3:\n                return `It's Day 3! Let's create a three-panel storyboard for your chosen solution. Start by describing the problem or starting point in the first panel.`;\n            case 4:\n                return `Welcome to Day 4. Today, we'll design a conceptual prototype. Begin by describing the core elements of your solution.`;\n            case 5:\n                return `It's the final day! We'll conduct simulated user testing. Start by describing a testing scenario for your prototype.`;\n            default:\n                return `Welcome to Day ${currentDay} of the Design Sprint.`;\n        }\n    }, [currentDay]);\n\n    useEffect(() => {\n        console.log(\"Sprint Data: \", sprintData); // Debugging line to verify structure\n    }, [sprintData]);\n    \n\n    useEffect(() => {\n        const loadInitialPrompt = async () => {\n          setIsTyping(true);\n          await new Promise(resolve => setTimeout(resolve, 1000));\n          setIsTyping(false);\n          const initialPrompt = getInitialPrompt();\n          setMessages([{ isUser: false, text: initialPrompt }]);\n        };\n    \n        loadInitialPrompt();\n      }, [currentDay, getInitialPrompt]);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (!input.trim()) return;\n    \n        const userMessage = { isUser: true, text: input };\n        setMessages(prev => [...prev, userMessage]);\n        setInput('');\n        setIsTyping(true);\n    \n        try {\n            await updateSprintData(input);\n    \n            const context = messages.map(m => `${m.isUser ? 'User' : 'Relay'}: ${m.text}`).join('\\n');\n            const prompt = `Day ${currentDay} of Design Sprint. Context: ${context}\\nUser: ${input}\\n${getCurrentPrompt()}`;\n            const response = await getGPTResponse(prompt, currentDay, sprintGuidance[currentDay].objectives);\n    \n            const aiMessage = { isUser: false, text: response };\n            setMessages(prev => [...prev, aiMessage]);\n    \n            if (response.toLowerCase().includes(\"move to the next day\")) {\n                setIsReadyForNextDay(true);\n            }\n        } catch (error) {\n            console.error('Error in handleSubmit:', error);\n            setMessages(prev => [...prev, { isUser: false, text: \"I'm having trouble right now. Please try again.\" }]);\n        } finally {\n            setIsTyping(false);\n        }\n    };\n\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter' && !e.shiftKey) {\n            handleSubmit(e);\n        }\n    };\n\n    const summarizeInput = async (input) => {\n        if (!input || !input.trim()) return \"Not yet defined\";\n      \n        const prompt = `Summarize the following in one concise sentence, maintaining key points: \"${input}\"`;\n        try {\n            const summary = await getGPTResponse(prompt, currentDay, sprintGuidance[currentDay].objectives || []);\n            return summary.trim() || input.trim();\n        } catch (error) {\n            console.error('Error summarizing input:', error);\n            return input.trim();\n        }\n    };\n    \n\n    const summarizeCrazy8s = async (ideas) => {\n        if (ideas.length === 0) return [\"Not yet defined\"];\n        const prompt = `Here are 8 ideas from a Crazy 8s exercise:\\n${ideas.join('\\n')}\\nPlease select and summarize the 3 most intriguing ideas in one sentence each.`;\n        try {\n            const summary = await getGPTResponse(prompt, currentDay, sprintGuidance[currentDay].objectives || []);\n            const summaries = summary.split('\\n').filter(s => s.trim());\n            return summaries.length > 0 ? summaries : ideas.slice(0, 3);\n        } catch (error) {\n            console.error('Error summarizing Crazy 8s:', error);\n            return ideas.slice(0, 3);\n        }\n    };\n\n    const updateSprintData = async (input) => {\n        const updatedData = { ...sprintData };\n        if (!updatedData[currentDay]) {\n            updatedData[currentDay] = {};\n        }\n    \n        console.log(`Updating data for Day ${currentDay} with input:`, input); // Log the input\n    \n        switch (currentDay) {\n            case 1:\n                if (!updatedData[1].Problem) {\n                    const summary = await summarizeInput(input);\n                    console.log(\"Summarized Problem:\", summary); // Log the summary\n                    updatedData[1].Problem = summary;\n                } else if (!updatedData[1][\"Long-term Goal\"]) {\n                    const summary = await summarizeInput(input);\n                    console.log(\"Summarized Long-term Goal:\", summary); // Log the summary\n                    updatedData[1][\"Long-term Goal\"] = summary;\n                } else if (!updatedData[1][\"Critical Questions\"]) {\n                    const questions = input.split(/\\d+\\./)\n                        .filter(q => q.trim())\n                        .map(q => q.trim());\n                    const summarizedQuestions = await Promise.all(questions.map(summarizeInput));\n                    console.log(\"Summarized Critical Questions:\", summarizedQuestions); // Log the summaries\n                    updatedData[1][\"Critical Questions\"] = summarizedQuestions;\n                }\n                break;\n            case 2:\n                if (crazyEightIdeas.every(idea => idea.trim() !== '')) {\n                    const summarizedIdeas = await summarizeCrazy8s(crazyEightIdeas);\n                    console.log(\"Summarized Crazy 8s Ideas:\", summarizedIdeas); // Log the summaries\n                    updatedData[2] = {\n                        \"Crazy 8s\": summarizedIdeas,\n                    };\n                }\n                break;\n            case 3:\n                if (storyboardSections.every(section => section.trim() !== '')) {\n                    const summarizedSections = await Promise.all(storyboardSections.map(summarizeInput));\n                    console.log(\"Summarized Solution Sketch:\", summarizedSections); // Log the summaries\n                    updatedData[3] = {\n                        \"Solution Sketch\": summarizedSections,\n                    };\n                }\n                break;\n            case 4:\n                if (Object.values(prototypeData).every(value => value.trim() !== '')) {\n                    const summarizedPrototypeData = await Promise.all(Object.entries(prototypeData).map(async ([key, value]) => [key, await summarizeInput(value)]));\n                    console.log(\"Summarized Prototype Data:\", summarizedPrototypeData); // Log the summaries\n                    updatedData[4] = {\n                        ...Object.fromEntries(summarizedPrototypeData),\n                    };\n                }\n                break;\n            case 5:\n                if (testingScenario.trim() !== '') {\n                    const summary = await summarizeInput(testingScenario);\n                    console.log(\"Summarized Who Will Test:\", summary); // Log the summary\n                    updatedData[5][\"Who Will Test\"] = summary;\n                }\n                if (userInteraction.trim() !== '') {\n                    const summary = await summarizeInput(userInteraction);\n                    console.log(\"Summarized How They Will Test:\", summary); // Log the summary\n                    updatedData[5][\"How They Will Test\"] = summary;\n                }\n                break;\n            default:\n                break;\n        }\n    \n        setSprintData(updatedData);\n        console.log(\"Updated Sprint Data:\", updatedData); // Log the updated state\n        checkDayCompletion();\n    };\n    \n    \n\n    const submitCrazyEight = async () => {\n        if (crazyEightIdeas.every(idea => idea.trim() !== '')) {\n            setIsTyping(true);\n            try {\n                const summarizedIdeas = await Promise.all(crazyEightIdeas.map(async (idea) => {\n                    return await summarizeInput(idea);\n                }));\n\n                setSprintData(prev => ({\n                    ...prev,\n                    2: {\n                        \"Crazy 8s\": summarizedIdeas\n                    }\n                }));\n\n                const responseMessage = \"Great job completing your Crazy 8s! I've summarized your ideas for the sprint progress. Would you like to move on to the next day?\";\n                setMessages(prev => [...prev, { isUser: false, text: responseMessage }]);\n                setIsReadyForNextDay(true);\n            } catch (error) {\n                console.error('Error processing Crazy 8 ideas:', error);\n                setMessages(prev => [...prev, { isUser: false, text: \"I'm having trouble processing your Crazy 8 ideas. Please try submitting again.\" }]);\n            } finally {\n                setIsTyping(false);\n            }\n        } else {\n            alert(\"Please complete all 8 ideas before submitting.\");\n        }\n    };\n\n    const updateCrazyEightIdea = (index, value) => {\n        const newIdeas = [...crazyEightIdeas];\n        newIdeas[index] = value;\n        setCrazyEightIdeas(newIdeas);\n    };\n\n    const updateStoryboardSection = (index, value) => {\n        const newSections = [...storyboardSections];\n        newSections[index] = value;\n        setStoryboardSections(newSections);\n        checkDayCompletion();\n    };\n\n    const updatePrototypeData = (key, value) => {\n        setPrototypeData(prev => ({ ...prev, [key]: value }));\n        checkDayCompletion();\n    };\n\n    const startTimer = () => {\n        setIsTimerRunning(true);\n        setTimerSeconds(480);\n    };\n\n    const submitSolutionSketch = async () => {\n        if (storyboardSections.every(section => section.trim() !== '')) {\n            setIsTyping(true);\n            const sketchString = storyboardSections.map((section, index) => `Panel ${index + 1}: ${section}`).join('\\n');\n            const prompt = `The user has completed their solution sketch with the following three panels:\\n${sketchString}\\nPlease provide a brief analysis and feedback on this solution sketch, highlighting strengths and areas for improvement.`;\n    \n            try {\n                const response = await getGPTResponse(prompt, currentDay, sprintGuidance[currentDay].objectives);\n                setMessages(prev => [...prev, { isUser: false, text: response }]);\n                const summarizedSections = await Promise.all(storyboardSections.map(summarizeInput));\n                setSprintData(prev => ({\n                    ...prev,\n                    3: {\n                        \"Solution Sketch\": summarizedSections\n                    }\n                }));\n                setIsReadyForNextDay(true);\n            } catch (error) {\n                console.error('Error in submitSolutionSketch:', error);\n                setMessages(prev => [...prev, { isUser: false, text: \"I'm having trouble providing feedback on your solution sketch. Please try submitting again.\" }]);\n            } finally {\n                setIsTyping(false);\n            }\n        } else {\n            alert(\"Please complete all three panels of the solution sketch before submitting.\");\n        }\n    };\n\n    const submitPrototype = async () => {\n        if (Object.values(prototypeData).every(value => value.trim() !== '')) {\n            setIsTyping(true);\n            const prototypeString = Object.entries(prototypeData).map(([key, value]) => `${key}: ${value}`).join('\\n');\n            const prompt = `The user has completed their prototype design with the following details:\\n${prototypeString}\\nPlease provide a brief analysis and feedback on this prototype, highlighting strengths and suggesting potential improvements.`;\n\n            try {\n                const response = await getGPTResponse(prompt);\n                setMessages(prev => [...prev, { isUser: false, text: response }]);\n                setSprintData(prev => ({\n                    ...prev,\n                    4: {\n                        ...prototypeData,\n                        \"Feedback\": response\n                    }\n                }));\n                setIsReadyForNextDay(true);\n            } catch (error) {\n                setMessages(prev => [...prev, { isUser: false, text: \"I'm having trouble providing feedback on your prototype. Please try submitting again.\" }]);\n            } finally {\n                setIsTyping(false);\n            }\n        } else {\n            alert(\"Please complete all sections of the prototype design before submitting.\");\n        }\n    };\n\n    const suggestTestingPlan = async () => {\n        setIsTyping(true);\n        const prompt = `Based on the prototype described: ${JSON.stringify(prototypeData)}, suggest a user testing plan. Include who should test the prototype (target users) and how they should test it (specific tasks and questions).`;\n        try {\n            const response = await getGPTResponse(prompt);\n            const [who, how] = response.split('\\n\\n');\n            setTestingScenario(who);\n            setUserInteraction(how);\n            setMessages(prev => [...prev, { isUser: false, text: `Here's a suggested user testing plan:\\n\\n${response}\\n\\nFeel free to modify this plan as needed.` }]);\n        } catch (error) {\n            setMessages(prev => [...prev, { isUser: false, text: \"I'm having trouble suggesting a testing plan. Please try creating one yourself.\" }]);\n        } finally {\n            setIsTyping(false);\n        }\n    };\n\n    const submitTestingPlan = async () => {\n        if (testingScenario.trim() !== '' && userInteraction.trim() !== '') {\n            setIsTyping(true);\n            const testingPlan = `Who will test: ${testingScenario}\\n\\nHow they will test: ${userInteraction}`;\n            const prompt = `The user has completed their user testing plan with the following details:\\n${testingPlan}\\nPlease provide a brief summary of the testing plan and suggest any improvements or considerations for conducting the actual user tests.`;\n\n            try {\n                const response = await getGPTResponse(prompt);\n                setMessages(prev => [...prev, { isUser: false, text: response }]);\n                setSprintData(prev => ({\n                    ...prev,\n                    5: {\n                        \"Who Will Test\": testingScenario,\n                        \"How They Will Test\": userInteraction,\n                        \"Feedback\": response\n                    }\n                }));\n                setIsReadyForNextDay(true);\n            } catch (error) {\n                setMessages(prev => [...prev, { isUser: false, text: \"I'm having trouble providing feedback on your testing plan. Please try submitting again.\" }]);\n            } finally {\n                setIsTyping(false);\n            }\n        } else {\n            alert(\"Please complete both 'Who will test' and 'How they will test' sections before submitting.\");\n        }\n    };\n\n    return (\n        <SprintContainer>\n            <MainContent>\n                {!isSprintComplete ? (\n                    <>\n                        <Header>{`Day ${currentDay}: ${sprintGuidance[currentDay].goal}`}</Header>\n                        <ConversationBox>\n                            {messages.map((message, index) => (\n                                <Message key={index} isUser={message.isUser}>\n                                    {message.isUser ? message.text : <div dangerouslySetInnerHTML={{ __html: formatRelayMessage(message.text) }} />}\n                                </Message>\n                            ))}\n                            {isTyping && <TypingIndicator><span></span><span></span><span></span></TypingIndicator>}\n                            <div ref={conversationEndRef} />\n                        </ConversationBox>\n                        <InputBox>\n                            <Input\n                                value={input}\n                                onChange={(e) => setInput(e.target.value)}\n                                onKeyDown={handleKeyDown}\n                                placeholder=\"Type your message here...\"\n                                rows={1}\n                                onInput={(e) => {\n                                    e.target.style.height = 'auto';\n                                    e.target.style.height = `${e.target.scrollHeight}px`;\n                                }}\n                            />\n                            <SendButton onClick={handleSubmit}>\n                                <FaPaperPlane />\n                            </SendButton>\n                        </InputBox>\n\n                        {/* Day-specific components */}\n                        {currentDay === 2 && (\n                            <CrazyEightContainer>\n                                <CrazyEightInstructions>\n                                    Crazy 8s is a fast sketching exercise where you'll create 8 distinct ideas in 8 minutes.\n                                    The goal is to push beyond your first idea and generate a wide range of possibilities.\n                                    Don't worry about quality or feasibility at this stage - focus on quantity and variety!\n                                </CrazyEightInstructions>\n                                {!isTimerRunning && <button onClick={startTimer}>Start 8-Minute Timer</button>}\n                                {isTimerRunning && <Timer>{Math.floor(timerSeconds / 60)}:{(timerSeconds % 60).toString().padStart(2, '0')}</Timer>}\n                                {crazyEightIdeas.map((idea, index) => (\n                                    <CrazyEightInput\n                                        key={index}\n                                        value={idea}\n                                        onChange={(e) => updateCrazyEightIdea(index, e.target.value)}\n                                        placeholder={`Crazy 8s Idea ${index + 1}`}\n                                    />\n                                ))}\n                                <SubmitButton onClick={submitCrazyEight}>\n                                    Submit Crazy 8s Ideas for Feedback\n                                </SubmitButton>\n                            </CrazyEightContainer>\n                        )}\n\n                        {currentDay === 3 && (\n                            <StoryboardContainer>\n                                <StoryboardInstructions>\n                                    Create a three-panel storyboard that outlines your chosen solution. Each panel should represent a key step or moment in your solution:\n                                    1. The problem or starting point\n                                    2. The main action or change\n                                    3. The result or outcome\n                                    Describe each panel in detail, focusing on what the user sees and does.\n                                </StoryboardInstructions>\n                                {storyboardSections.map((section, index) => (\n                                    <StoryboardSection\n                                        key={index}\n                                        value={section}\n                                        onChange={(e) => updateStoryboardSection(index, e.target.value)}\n                                        placeholder={`Panel ${index + 1}: ${index === 0 ? \"Describe the problem or starting point\" : index === 1 ? \"Detail the main action or change\" : \"Illustrate the result or outcome\"}`}\n                                    />\n                                ))}\n                                <SubmitButton onClick={submitSolutionSketch}>\n                                    Submit Solution Sketch for Feedback\n                                </SubmitButton>\n                            </StoryboardContainer>\n                        )}\n\n                        {currentDay === 4 && (\n                            <PrototypeSection>\n                                <h3>Design Your Conceptual Prototype</h3>\n                                <p>Create a detailed description of your prototype, focusing on core elements, structure, and key interactions.</p>\n                                <StoryboardSection\n                                    value={prototypeData.coreElements}\n                                    onChange={(e) => updatePrototypeData('coreElements', e.target.value)}\n                                    placeholder=\"Describe core elements...\"\n                                />\n                                <StoryboardSection\n                                    value={prototypeData.structureFlow}\n                                    onChange={(e) => updatePrototypeData('structureFlow', e.target.value)}\n                                    placeholder=\"Outline structure or flow...\"\n                                />\n                                <StoryboardSection\n                                    value={prototypeData.interactionsProcesses}\n                                    onChange={(e) => updatePrototypeData('interactionsProcesses', e.target.value)}\n                                    placeholder=\"Detail interactions or processes...\"\n                                />\n                                <SubmitButton onClick={submitPrototype}>\n                                    Submit Prototype for Feedback\n                                </SubmitButton>\n                            </PrototypeSection>\n                        )}\n\n                        {currentDay === 5 && (\n                            <InteractionSection>\n                                <h3>User Testing Plan</h3>\n                                <p>Create a plan for testing your prototype with real users. Define who will test and how they will test.</p>\n                                <StoryboardSection\n                                    value={testingScenario}\n                                    onChange={(e) => setTestingScenario(e.target.value)}\n                                    placeholder=\"Describe who your test users will be (e.g., demographics, experience level)...\"\n                                />\n                                <StoryboardSection\n                                    value={userInteraction}\n                                    onChange={(e) => setUserInteraction(e.target.value)}\n                                    placeholder=\"Outline how users will test your prototype (e.g., specific tasks, questions to ask)...\"\n                                />\n                                <ButtonGroup>\n                                    <CopyButton onClick={suggestTestingPlan}>Suggest Testing Plan</CopyButton>\n                                </ButtonGroup>\n                                <SubmitButton onClick={submitTestingPlan}>\n                                    Submit Testing Plan\n                                </SubmitButton>\n                            </InteractionSection>\n                        )}\n\n                        {isReadyForNextDay && currentDay < 5 && (\n                            <NextDayButton onClick={moveToNextDay}>\n                                Move to Day {currentDay + 1}\n                            </NextDayButton>\n                        )}\n\n                        {isReadyForNextDay && currentDay === 5 && (\n                            <NextDayButton onClick={() => setIsSprintComplete(true)}>\n                                Finish Sprint and Review Summary\n                            </NextDayButton>\n                        )}\n                    </>\n                ) : (\n                    <FinalSummary sprintData={sprintData} />\n                )}\n            </MainContent>\n            {isSidebarOpen && (\n                <OutputSidebar\n                    sprintData={sprintData}\n                    currentDay={currentDay}\n                />\n            )}\n            <ToggleSidebarButton onClick={() => setIsSidebarOpen(!isSidebarOpen)} isSidebarOpen={isSidebarOpen}>\n                {isSidebarOpen ? '×' : '☰'}\n            </ToggleSidebarButton>\n        </SprintContainer>\n    );\n};\n\nexport default DaySprint;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;AACvE,OAAOC,MAAM,IAAIC,SAAS,QAAQ,mBAAmB,CAAC,CAAE;AACxD,SAASC,cAAc,QAAQ,qBAAqB;AACpD,SAASC,cAAc,QAAQ,0BAA0B;AACzD,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,YAAY,MAAM,gBAAgB;AACzC,SAASC,YAAY,QAAQ,gBAAgB;;AAE7C;AACA,MAAMC,eAAe,GAAGP,MAAM,CAACQ,GAAG;AAClC;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,WAAW,GAAGT,MAAM,CAACQ,GAAG;AAC9B;AACA;AACA;AACA,CAAC;AAED,MAAME,WAAW,GAAGV,MAAM,CAACQ,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMG,MAAM,GAAGX,MAAM,CAACY,EAAE;AACxB;AACA;AACA;AACA,CAAC;AAED,MAAMC,eAAe,GAAGb,MAAM,CAACQ,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAGD,MAAMM,KAAK,GAAGd,MAAM,CAACe,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,UAAU,GAAGhB,MAAM,CAACiB,MAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,QAAQ,GAAGlB,MAAM,CAACQ,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMW,OAAO,GAAGnB,MAAM,CAACQ,GAAG;AAC1B,sBAAsBY,KAAK,IAAIA,KAAK,CAACC,MAAM,GAAG,SAAS,GAAG,SAAS;AACnE;AACA;AACA;AACA;AACA;AACA,gBAAgBD,KAAK,IAAIA,KAAK,CAACC,MAAM,GAAG,UAAU,GAAG,YAAY;AACjE;AACA;AACA,IAAID,KAAK,IAAI,CAACA,KAAK,CAACC,MAAM,IAAI;AAC9B;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AAGD,MAAMC,MAAM,GAAGrB,SAAS;AACxB;AACA;AACA;AACA,CAAC;AAED,MAAMsB,eAAe,GAAGvB,MAAM,CAACQ,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiBc,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAME,aAAa,GAAGxB,MAAM,CAACiB,MAAM;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMQ,UAAU,GAAGzB,MAAM,CAACiB,MAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMS,KAAK,GAAG1B,MAAM,CAACQ,GAAG;AACxB;AACA;AACA;AACA,CAAC;AAED,MAAMmB,mBAAmB,GAAG3B,MAAM,CAACQ,GAAG;AACtC;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMoB,sBAAsB,GAAG5B,MAAM,CAAC6B,CAAC;AACvC;AACA;AACA,CAAC;AAED,MAAMC,eAAe,GAAG9B,MAAM,CAAC+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMC,mBAAmB,GAAGhC,MAAM,CAACQ,GAAG;AACtC;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMyB,sBAAsB,GAAGjC,MAAM,CAAC6B,CAAC;AACvC;AACA;AACA,CAAC;AAED,MAAMK,iBAAiB,GAAGlC,MAAM,CAACe,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMoB,gBAAgB,GAAGnC,MAAM,CAACQ,GAAG;AACnC;AACA;AACA;AACA;AACA,CAAC;AAED,MAAM4B,kBAAkB,GAAGpC,MAAM,CAACQ,GAAG;AACrC;AACA;AACA;AACA;AACA,CAAC;AAED,MAAM6B,mBAAmB,GAAGrC,MAAM,CAACiB,MAAM;AACzC;AACA;AACA,WAAWG,KAAK,IAAIA,KAAK,CAACkB,aAAa,GAAG,OAAO,GAAG,MAAM;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA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","ignoreList":[]},"metadata":{},"sourceType":"module"}